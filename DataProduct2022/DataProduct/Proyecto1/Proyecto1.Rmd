---
title: "Tab en columnas"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r Librerias, include=FALSE}
library(flexdashboard)
library(dplyr)
library(ggplot2)
library(readr)
library(knitr)
library(DT)
```

```{r cargarData, include=FALSE}
data <- read_csv("tienda.csv")
names(data)[c(1,2,3,4,5,6,7,12,14,17)] <- c("row_id","order_id","order_date","ship_date","ship_mode","customer_id","customer_name","postal_code","product_id","product_name")
names(data) <- tolower(names(data))

```


Col 1
-----------------------

```{r mostrarData}
#Encontrar como hacer scroll
knitr::kable(data %>% sample_n(50))
```

Col 2 {.tabset}
-----------------------

### Tab 1

```{r masRentable}
dfMayor <- data %>% 
            select(product_name,profit)%>%
            group_by(product_name) %>%
            summarise(profit = sum(profit))

dfMayor %>%
  filter(profit == max(dfMayor$profit))

```

```{r menosRentable}
dfMenor <- data %>% 
            select(product_name,profit)%>%
            group_by(product_name) %>%
            summarise(profit = sum(profit))

dfMenor %>%
  filter(profit == min(dfMenor$profit))
```



### Tab 2


### Tab 3
```{r geografico}
data %>%
  select(state, profit)%>%
  group_by(state) %>%
  summarise(profit = sum(profit))
```


### Tab 4